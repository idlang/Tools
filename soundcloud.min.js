function form_reset(){$("#dwn_link").hide(),$("#error_box").hide()}function show_reset_button(){$("#reset_link").show()}function warning_box(a){$("#download_button").show(),$("#error_box").html(a).show("fast").css("display","block"),$("#dwn_link").hide(),$("#spinner").hide()}function warning_url(){$("#download_button").show(),$("#error_box").show("fast").css("display","block"),$("#dwn_link").hide()}function warning_set_url(){$("#download_button").show(),$("#error_box").show("slow").css("display","block"),$("#dwn_link").hide()}function checkUrl(a){switch(url=a.toLowerCase(),!0){case url.indexOf("soundcloud.com/search")!==-1:return"You have to paste a single track URL</br>Please select a one track from the soundcloud <a href='"+url+"' class='main_link' target='_blank'>search page</a>";case""===url:return"^^^ Please paste Soundcloud track URL/link ^^^";case url.indexOf("soundcloud.com")!==-1:return"";default:return"Hmmm... URL looks wrong :("}}function logUrl(a){return $.ajax({url:"/log.php",type:"GET",dataType:"text",data:{s_url:a},success:function(a){}})}$.support.cors=!0,$(document).ready(function(){$("#download_button").click(function(){$(this).css("display","none")}),$("#error_box").click(function(){$(this).hide()}),$("#url_input").click(function(){$("#error_box").hide()}),$("#try").click(function(a){$("#url_input").val(a.target.name),$("#main_container").scrollTop()}),$("#download_form").submit(function(){form_reset();var a=$("#url_input").val(),b=checkUrl(a);return""!==b?(warning_box(b),!1):($("#download_button").hide().after('<div id="spinner"><img src="https://soundpump.net/images/converting_spinner.svg" /><div> >Wait...</div></div>'),setTimeout(function(){$.ajax({url:"/",type:"POST",dataType:"json",data:{uri:a},success:function(a){$("#dwn_link").html('Right-click here and "Save link as..."'),$("#dwn_link").attr("href",a.downloadUrl),$("#dwn_link").attr("download",""),$("#spinner").hide(),$("#dwn_link").show("slow").css("display","inline-block"),$("#reset_link").show()},error:function(a){warning_box("Hmmm... URL looks wrong :(")}})},3e3),!1)})});
